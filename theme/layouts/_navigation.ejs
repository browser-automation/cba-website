<nav id="main-navigation">
  <% function recNav(ft) {
    let excludeFile = [];
    %>
    <ul>
      <% for (let {path, name, children, size, type} of ft) {
          if (type == 'directory') {
            excludeFile.push(name);
            const ext = '.md';
            path = path.concat(ext); %>
            <li <%- children ? "class='has-children'" : "" %>>
            <a href="<%= path %>"><%= name %></a>
            <% if (children) {
              recNav(children);
            } %>
            </li>
          <% } else {
                if (excludeFile.includes(name)) {
                  continue;
                };
                name = name.split('.');
                name.pop(); %>
                <li <%- children ? "class='has-children'" : "" %>>
                <a href="<%= path %>"><%= name %></a>
                <% if (children) {
                  recNav(children);
                } %>
                </li>
              <% }
      } %>
    </ul>
  <% console.log(excludeFile);
  console.log(excludeFile.includes('Documentation'));
  }
  filteredTree = dirTree('./pages', '.md').children;
  //console.log(filteredTree.children);
  recNav(filteredTree) %>
</nav>

<nav id="mobile-nav">
<select>
   <% for ({title, link, sub_items} of site.navigation) { %>
      <option value="<%- link %>"><%- title %></option>
    <% } %>
</select>
</nav>
